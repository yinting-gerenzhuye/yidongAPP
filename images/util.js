function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return hex_md5("abc")=="900150983cd24fb0d6963f7d28e17f72"}function core_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n=1732584193,r=-271733879,i=-1732584194,s=271733878;for(var o=0;o<e.length;o+=16){var u=n,a=r,f=i,l=s;n=md5_ff(n,r,i,s,e[o+0],7,-680876936),s=md5_ff(s,n,r,i,e[o+1],12,-389564586),i=md5_ff(i,s,n,r,e[o+2],17,606105819),r=md5_ff(r,i,s,n,e[o+3],22,-1044525330),n=md5_ff(n,r,i,s,e[o+4],7,-176418897),s=md5_ff(s,n,r,i,e[o+5],12,1200080426),i=md5_ff(i,s,n,r,e[o+6],17,-1473231341),r=md5_ff(r,i,s,n,e[o+7],22,-45705983),n=md5_ff(n,r,i,s,e[o+8],7,1770035416),s=md5_ff(s,n,r,i,e[o+9],12,-1958414417),i=md5_ff(i,s,n,r,e[o+10],17,-42063),r=md5_ff(r,i,s,n,e[o+11],22,-1990404162),n=md5_ff(n,r,i,s,e[o+12],7,1804603682),s=md5_ff(s,n,r,i,e[o+13],12,-40341101),i=md5_ff(i,s,n,r,e[o+14],17,-1502002290),r=md5_ff(r,i,s,n,e[o+15],22,1236535329),n=md5_gg(n,r,i,s,e[o+1],5,-165796510),s=md5_gg(s,n,r,i,e[o+6],9,-1069501632),i=md5_gg(i,s,n,r,e[o+11],14,643717713),r=md5_gg(r,i,s,n,e[o+0],20,-373897302),n=md5_gg(n,r,i,s,e[o+5],5,-701558691),s=md5_gg(s,n,r,i,e[o+10],9,38016083),i=md5_gg(i,s,n,r,e[o+15],14,-660478335),r=md5_gg(r,i,s,n,e[o+4],20,-405537848),n=md5_gg(n,r,i,s,e[o+9],5,568446438),s=md5_gg(s,n,r,i,e[o+14],9,-1019803690),i=md5_gg(i,s,n,r,e[o+3],14,-187363961),r=md5_gg(r,i,s,n,e[o+8],20,1163531501),n=md5_gg(n,r,i,s,e[o+13],5,-1444681467),s=md5_gg(s,n,r,i,e[o+2],9,-51403784),i=md5_gg(i,s,n,r,e[o+7],14,1735328473),r=md5_gg(r,i,s,n,e[o+12],20,-1926607734),n=md5_hh(n,r,i,s,e[o+5],4,-378558),s=md5_hh(s,n,r,i,e[o+8],11,-2022574463),i=md5_hh(i,s,n,r,e[o+11],16,1839030562),r=md5_hh(r,i,s,n,e[o+14],23,-35309556),n=md5_hh(n,r,i,s,e[o+1],4,-1530992060),s=md5_hh(s,n,r,i,e[o+4],11,1272893353),i=md5_hh(i,s,n,r,e[o+7],16,-155497632),r=md5_hh(r,i,s,n,e[o+10],23,-1094730640),n=md5_hh(n,r,i,s,e[o+13],4,681279174),s=md5_hh(s,n,r,i,e[o+0],11,-358537222),i=md5_hh(i,s,n,r,e[o+3],16,-722521979),r=md5_hh(r,i,s,n,e[o+6],23,76029189),n=md5_hh(n,r,i,s,e[o+9],4,-640364487),s=md5_hh(s,n,r,i,e[o+12],11,-421815835),i=md5_hh(i,s,n,r,e[o+15],16,530742520),r=md5_hh(r,i,s,n,e[o+2],23,-995338651),n=md5_ii(n,r,i,s,e[o+0],6,-198630844),s=md5_ii(s,n,r,i,e[o+7],10,1126891415),i=md5_ii(i,s,n,r,e[o+14],15,-1416354905),r=md5_ii(r,i,s,n,e[o+5],21,-57434055),n=md5_ii(n,r,i,s,e[o+12],6,1700485571),s=md5_ii(s,n,r,i,e[o+3],10,-1894986606),i=md5_ii(i,s,n,r,e[o+10],15,-1051523),r=md5_ii(r,i,s,n,e[o+1],21,-2054922799),n=md5_ii(n,r,i,s,e[o+8],6,1873313359),s=md5_ii(s,n,r,i,e[o+15],10,-30611744),i=md5_ii(i,s,n,r,e[o+6],15,-1560198380),r=md5_ii(r,i,s,n,e[o+13],21,1309151649),n=md5_ii(n,r,i,s,e[o+4],6,-145523070),s=md5_ii(s,n,r,i,e[o+11],10,-1120210379),i=md5_ii(i,s,n,r,e[o+2],15,718787259),r=md5_ii(r,i,s,n,e[o+9],21,-343485551),n=safe_add(n,u),r=safe_add(r,a),i=safe_add(i,f),s=safe_add(s,l)}return Array(n,r,i,s)}function md5_cmn(e,t,n,r,i,s){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(r,s)),i),n)}function md5_ff(e,t,n,r,i,s,o){return md5_cmn(t&n|~t&r,e,t,i,s,o)}function md5_gg(e,t,n,r,i,s,o){return md5_cmn(t&r|n&~r,e,t,i,s,o)}function md5_hh(e,t,n,r,i,s,o){return md5_cmn(t^n^r,e,t,i,s,o)}function md5_ii(e,t,n,r,i,s,o){return md5_cmn(n^(t|~r),e,t,i,s,o)}function core_hmac_md5(e,t){var n=str2binl(e);n.length>16&&(n=core_md5(n,e.length*chrsz));var r=Array(16),i=Array(16);for(var s=0;s<16;s++)r[s]=n[s]^909522486,i[s]=n[s]^1549556828;var o=core_md5(r.concat(str2binl(t)),512+t.length*chrsz);return core_md5(i.concat(o),640)}function safe_add(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){var t=Array(),n=(1<<chrsz)-1;for(var r=0;r<e.length*chrsz;r+=chrsz)t[r>>5]|=(e.charCodeAt(r/chrsz)&n)<<r%32;return t}function binl2str(e){var t="",n=(1<<chrsz)-1;for(var r=0;r<e.length*32;r+=chrsz)t+=String.fromCharCode(e[r>>5]>>>r%32&n);return t}function binl2hex(e){var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="";for(var r=0;r<e.length*4;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}function binl2b64(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="";for(var r=0;r<e.length*4;r+=3){var i=(e[r>>2]>>8*(r%4)&255)<<16|(e[r+1>>2]>>8*((r+1)%4)&255)<<8|e[r+2>>2]>>8*((r+2)%4)&255;for(var s=0;s<4;s++)r*8+s*6>e.length*32?n+=b64pad:n+=t.charAt(i>>6*(3-s)&63)}return n}var QHPass=window.QHPass||{},globalConf={protocol:location.protocol.replace(":",""),src:"",needHttpsDomains:["haosou.com","360pay.cn","360.cn"]},QHDomain=window.QHDomain||{i360:"https://i.360.cn",login_https:"https://login.360.cn",captcha:"http://captcha.360.cn",login_http:"http://login.360.cn"};QHPass.resConfig={reloadAfterLogout:!1,jumpUrl:"",isByqt:!0,logoutCallback:null},QHPass.domainList=["qihoo.com","haosou.com","yunpan.cn","qikoo.com","qiku.com","360.com","360pay.cn"],QHPass.setConfig=function(e,t){globalConf[e]=t},QHPass.getConfig=function(e,t){return globalConf[e]===undefined?t:globalConf[e]},QHPass.CrossDomainRequest=function(e,t,n,r){var i=+(new Date),s="",o=QHPass.getConfig("protocol");typeof n=="string"?s=n:(s="_CrossDomainCallback"+i,window[s]=function(){var e=decodeURIComponent(arguments[0]);return u.parentNode.removeChild(u),n(e)});var u=document.createElement("div");u.innerHTML='<iframe style="display:none" id="_CrossDomainiframe'+i+'" name="'+"_CrossDomainiframe"+i+'" src=""></iframe>',document.body.appendChild(u);var a=document.createElement("FORM");a.style.display="none",a.method=r||"post",a.target="_CrossDomainiframe"+i,a.action=e;var f=[];f.push('<input type="hidden" name="callback" value="'+s+'" />'),f.push('<input type="hidden" name="proxy" value="'+o+"://"+location.host+'/psp_jump.html" />'),a.innerHTML=f.join("");for(var l in t){var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",l),c.setAttribute("value",t[l]),a.appendChild(c)}document.body.appendChild(a),a.submit(),a.parentNode.removeChild(a)};var _currentDomain=location.hostname.replace(/^(?:.+\.)?(\w+\.\w+)$/,"$1");QHPass.loadJs=function(e,t,n){n=n||{};var r=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script"),s=!1;i.src=e,n.charset&&(i.charset=n.charset),i.onerror=i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")&&(s=!0,t&&t(),i.onerror=i.onload=i.onreadystatechange=null,r.removeChild(i))},r.insertBefore(i,r.firstChild)},QHPass.loadJsonp=function(){var e=new Date*1;return function(t,n,r){r=r||{};var i="QiUserJsonP"+e++,s=r.callbackReplacer||/%callback%/ig;window[i]=function(e){n&&n(e),window[i]=null},s.test(t)?t=t.replace(s,i):t+=(/\?/.test(t)?"&":"?")+"callback="+i,QHPass.loadJs(t,null,r)}}(),QHPass.g=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(e.nodeType==1||e.nodeType==9)?e:null},QHPass.trim=function(e){return e&&e.replace(/^\s+|\s+$/g,"")},QHPass.forEach=function(e,t,n){for(var r=0,i=e.length;r<i;r++)r in e&&t.call(n,e[r],r,e)},QHPass.byteLen=function(e){return e.replace(/[^\x00-\xff]/g,"--").length},QHPass.trace=function(e){window.console&&window.console.log(e)},QHPass.execCallback=function(e,t){typeof e=="string"?window.location.href=e:typeof e=="boolean"?window.location.reload(e):e&&e(t)},QHPass.Cookie=QHPass.Cookie||{},QHPass.Cookie.get=function(e){if(QHPass.Cookie._isValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(document.cookie);if(n)try{return decodeURIComponent(n[2])||null}catch(r){return n[2]||null}}return null},QHPass.Cookie._isValidKey=function(e){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$')).test(e)},QHPass.Cookie.set=function(e,t,n){if(!QHPass.Cookie._isValidKey(e))return;n=n||{};var r=n.expires;"number"==typeof n.expires&&(r=new Date,r.setTime(r.getTime()+n.expires)),document.cookie=e+"="+encodeURIComponent(t)+"; path="+(n.path?n.path:"/")+(r?"; expires="+r.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")},QHPass.Cookie.del=function(e){QHPass.Cookie.set(e,"")},QHPass.getAthenticateStatus=function(e,t){var n=QHPass.getConfig("currentDomain",_currentDomain),r=QHPass.getConfig("protocol")=="https"?"https":"http",i=r+"://login."+n||(QHPass.getConfig("protocol")=="https"?QHDomain.login_https:QHDomain.login_http);QHPass.getUserInfo(function(n){var r=n.crumb,s=i;s+="?o=User&m=getShiMingStatus&crumb="+r,QHPass.loadJsonp(s,function(n){n.details&&!n.details.isNeedAuthen?e&&e(n.details.mobile):t&&t()})},t)},QHPass.getUserInfo=function(e,t,n){var r=QHPass.getConfig("currentDomain",_currentDomain),i=QHPass.getConfig("protocol")=="https"?"https":"http",s=i+"://login."+r;if(QHPass.Cookie.get("Q")||!QHPass.resConfig.isByqt){var o=n||s||QHDomain.login_http;o+="/?o=sso&m=info&func=%callback%&show_name_flag=1",QHPass.loadJsonp(o,function(n){n.qid?e&&e(n):t&&t()})}else t&&t()},QHPass.getRd=function(e,t){var n=QHPass.getConfig("protocol")=="https"?QHDomain.login_https:QHDomain.login_http,r=n+"?o=sso&m=getRd";QHPass.loadJsonp(r,function(n){n.rd?e&&e(n.rd):t&&t(n)})},QHPass.logoutOtherDomain=function(e){function t(){QHPass.resConfig.logoutCallback?QHPass.execCallback(QHPass.resConfig.logoutCallback):location.reload(!0)}var n=QHPass.getConfig("currentDomain",_currentDomain),r=QHPass.getConfig("protocol")=="https"?"https":"http",i=r+"://login."+n;e.errno==0&&(n&&n!=="360.cn"?QHPass.loadJsonp(i+"/?o=sso&m=logout&func=%callback%",t):t())},QHPass.logout=function(e){e&&(QHPass.resConfig.logoutCallback=e);var t=QHPass.getConfig("protocol")=="https"?QHDomain.login_https:QHDomain.login_http;if(QHPass.Cookie.get("Q")||!QHPass.resConfig.isByqt)if(QHPass.resConfig.reloadAfterLogout){var n=QHPass.resConfig.jumpUrl||location.href;location.href=t+"/?op=logout&destUrl="+encodeURIComponent(n)}else QHPass.loadJsonp(t+"/?o=sso&m=logout&func=%callback%",QHPass.logoutOtherDomain);else e&&QHPass.execCallback(e)},QHPass.cookieEnabled=function(){var e=!0,t=document.cookie.length,n=Math.random(),r=["test",n,"test=test",";expires=Thu, 01 Jan 9970 00:00:00 GMT",";path=/"].join("");return document.cookie=r,document.cookie.length==t&&(e=!1),r=["test",n,"test=test",";expires=Thu, 01 Jan 1970 00:00:00 GMT",";path=/"].join(""),document.cookie=r,e},QHPass.getCaptchaUrl=function(e,t,n){var r=QHPass.getConfig("protocol"),i=QHDomain.i360+"/QuCapt/getQuCaptUrl?captchaApp="+t+"&captchaScene="+e+"&requestScema="+r;QHPass.loadJsonp(i,function(e){e.errno=="0"&&n&&QHPass.execCallback(n,e.captchaUrl)})};var hexcase=0,b64pad="",chrsz=8,tipTextLogin={login_account_empty:"\u8bf7\u8f93\u5165\u60a8\u7684\u5e10\u53f7",login_password_empty:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801",login_default_wrong:"\u5e10\u53f7\u6216\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",login_phrase_wrong:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9a8c\u8bc1\u7801",contact_kefu:',<a target="_blank" href="http://www.360.cn/about/contactus.html">\u8bf7\u8054\u7cfb\u5ba2\u670d</a>'};QHPass.mShowLogin=function(e,t){t=t||{},QHPass.loginUtils.run(e,t)},QHPass.loginUtils=function(){function e(e,t,n){QHPass.trace(e),L+=1;var r=QHPass.g(m.globalTips);r&&(r.innerHTML=t,r.style.display="block"),O&&O({type:e,msg:t,extra:n}),clearTimeout(QHPass._timeoutHandler)}function t(e,t,n){var r=QHPass.g(m.globalTips);r&&(r.innerHTML=t,r.style.display="none"),M&&M({type:e,msg:t,extra:n})}function n(){var t=m.account,n="account",r=QHPass.byteLen(QHPass.g(t).value);r||e(n,tipTextLogin.login_account_empty)}function r(){var t=m.password,n="pwd",r=QHPass.trim(QHPass.g(t).value);r?r&&r.length<6&&e(n,tipTextLogin.login_default_wrong):e(n,tipTextLogin.login_password_empty)}function i(){var t=m.phrase,n="phrase",r=QHPass.trim(QHPass.g(t).value);(r.length<=0||r.length>7)&&e(n,tipTextLogin.login_phrase_wrong)}function s(){var e=QHPass.getConfig("needHttpsDomains");QHPass.forEach(g,function(t){e.indexOf(t)>-1?y.push("https://login."+t):y.push("http://login."+t)})}function o(){L=0;if(L!=0)return;n();if(L!=0)return;r();if(x){if(L!=0)return;i()}if(L>0)return;beforeFun&&beforeFun(),QHPass._timeoutHandler=setTimeout(function(){QHDomain.login_https="http://login.360.cn",u(),P&&P(),QHPass._timeoutHandler=setTimeout(function(){H&&H(),e("network","\u7f51\u7edc\u8d85\u65f6~")},1e4)},1e4),u()}function u(){var e=QHDomain.login_https+"/?o=sso&m=getToken",t=QHPass.trim(QHPass.g(m.account).value),n=e+"&func=QHPass.loginUtils.tokenCallback&"+"userName="+encodeURIComponent(t)+"&rand="+Math.random();QHPass.loadJsonp(n)}function a(t){var n=QHPass.trim(QHPass.g(m.account).value),r=QHPass.g(m.password).value,i=QHPass.g(m.isAutologin).checked?1:0,s=QHPass.g(m.phrase).value;t.errno!=0?e("token",decodeURIComponent(t.errmsg),t.errno):f(n,r,i,t.token,s)}function f(e,t,n,r,i){var s=[],o=QHPass.getConfig("protocol");s.push("userName="+encodeURIComponent(e)),s.push("pwdmethod=1"),s.push("password="+hex_md5(t)),s.push("isKeepAlive="+n),s.push("token="+r),S?(s.push("captFlag=1"),s.push("captchaApp="+T),s.push("captcha="+encodeURIComponent(i))):s.push("captFlag="),s.push("r="+(new Date).getTime()),B&&B();var u=QHDomain.login_https+"/?o=sso&m=login&from="+A+"&rtype=data&func=QHPass.loginUtils.loginCallback&requestScema="+o;QHPass.loadJsonp(u+"&"+s.join("&"))}function l(e){QHPass.getCaptchaUrl("login",T,e)}function c(){QHPass.g(m.phraseImg).src=N+"&_="+Math.random()}function h(t){j&&j();if(t.errno==0)w=t.s,b=t.userinfo,p();else switch(t.errno){case 1036:e("account",tipTextLogin.login_default_wrong,t.errno);break;case 221:var n=decodeURIComponent(t.errmsg)+tipTextLogin.contact_kefu;e("account",n,t.errno);break;case 219:case 220:e("pwd",tipTextLogin.login_default_wrong,t.errno);break;case 2e4:e("account",decodeURIComponent(t.errmsg),t.errno);break;case 78e3:case 78002:x=!0,N=t.errdetail.captchaUrl,QHPass.g(m.phraseWrapper).style.display="block",C&&C(),e("phrase",decodeURIComponent(t.errmsg),t);break;default:e("rd",decodeURIComponent(t.errmsg),t.errno)}}function p(){k=0,QHPass.loadJs(y[k]+"/?o=sso&m=setcookie&func=QHPass.loginUtils.rdCallBack&"+"s="+w)}function d(e){e.errno==0?(k+=1,k==y.length?(clearTimeout(QHPass._timeoutHandler),QHPass.execCallback(E,b)):QHPass.loadJs(y[k]+"/?o=sso&m=setcookie&func=QHPass.loginUtils.rdCallBack&"+"s="+w)):(clearTimeout(QHPass._timeoutHandler),QHPass.execCallback(E,b))}function v(e,t){m=t.doms,g=t.domainList||QHPass.getConfig("domainList",g),E=e,A=t.src||QHPass.getConfig("src"),T=t.captchaAppId||T,C=t.extFun.phrase,O=t.extFun.error,M=t.extFun.correct,phraseTime=t.phraseTime||"start",_=t.extFun.init,P=t.extFun.httpsTimeout,H=t.extFun.httpTimeout,beforeFun=t.extFun.before,B=t.extFun.loading,j=t.extFun.after,phraseTime=="start"?x=!0:x=!1,s(),QHPass.g(m.account).onblur=function(){var e=QHPass.trim(this.value),t=QHPass.getConfig("protocol","https"),n=QHPass.getConfig("currentDomain",_currentDomain),r=t+"://login."+n||(t=="https"?QHDomain.login_https:QHDomain.login_http),i=r+"/?&src="+A+"&from="+A+"&charset=UTF-8&requestScema=http&o=sso&m=checkNeedCaptcha&account="+e+"&captchaApp=i360&requestScema="+t;if(!e)return;QHPass.loadJsonp(i,function(e){e.errno==0&&(N=e.captchaUrl,c(),e.captchaFlag?(QHPass.g(m.phraseWrapper).style.display="block",x=!0):(QHPass.g(m.phraseWrapper).style.display="none",x=!1))})},_&&_()}var m={},g=QHPass.domainList,y=[],b=null,w="",E="",S=!0,x=!1,T="i360",N="",C=null,k=0,L=0,A="",O=null,M=null,_=null,D=null,P=null,H=null,B=null,j=null;return QHPass._timeoutHandler=null,{run:v,submit:o,showError:e,showCorrect:t,tokenCallback:a,loginCallback:h,rdCallBack:d,getCaptchaUrl:l,setPhrase:c}}();var tipTextReg={reg_default_regUsername:"2-14\u4e2a\u5b57\u7b26\uff1a\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e2d\u6587",reg_default_password:"6-20\u4e2a\u5b57\u7b26\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09",reg_wrong_loginEmail_empty:"\u8bf7\u8f93\u5165\u60a8\u7684\u5e38\u7528\u90ae\u7bb1",reg_wrong_loginEmail_format:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1\u5730\u5740",reg_wrong_default_regUsername:"\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d",reg_wrong_default_password:"\u5bc6\u7801\u5e94\u4e3a6-20\u4e2a\u5b57\u7b26\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09",reg_wrong_default_rePassword:"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u6837\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",reg_wrong_default_phrase:"\u8bf7\u6b63\u786e\u586b\u5199\u9a8c\u8bc1\u7801",reg_wrong_password_chinese:"\u5bc6\u7801\u4e0d\u80fd\u542b\u6709\u4e2d\u6587",reg_wrong_password_same_chars:"\u5bc6\u7801\u4e0d\u80fd\u5168\u4e3a\u76f8\u540c\u5b57\u7b26",reg_wrong_password_empty:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",reg_wrong_password_emptychars:"\u5bc6\u7801\u4e0d\u80fd\u5168\u90e8\u4e3a\u7a7a\u683c",reg_wrong_password_weaklevel:"\u5bc6\u7801\u5f31\uff0c\u6709\u98ce\u9669\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",reg_wrong_password_lx_chars:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u8fde\u7eed\u5b57\u7b26",reg_wrong_phrase_input:"\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",reg_wrong_phrase_ban:"\u9a8c\u8bc1\u7801\u8fde\u7eed\u9519\u8bef\u6b21\u6570\u8fc7\u591a\uff0c\u8bf7\u6539\u5929\u518d\u6765",reg_wrong_isagree:"\u8bf7\u5148\u9605\u8bfb\u5e76\u540c\u610f\u300a360\u7528\u6237\u670d\u52a1\u6761\u6b3e\u300b",reg_wrong_process_error:"\u6ce8\u518c\u8fc7\u7a0b\u4e2d\u53d1\u751f\u610f\u5916\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5",net_check:"\u68c0\u67e5\u4e2d\uff0c\u8bf7\u7a0d\u540e...",reg_wrong_username_short:"\u7528\u6237\u540d\u6700\u5c11\u4f7f\u75282\u4e2a\u5b57\u7b26\u6216\u6c49\u5b57",reg_wrong_username_long:"\u7528\u6237\u540d\u4e0d\u8d85\u8fc77\u4e2a\u6c49\u5b57\u621614\u4e2a\u5b57\u7b26",reg_wrong_username_chars:"\u7528\u6237\u540d\u4e0d\u80fd\u5305\u542b\u7279\u6b8a\u5b57\u7b26",reg_wrong_username_empty:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7528\u6237\u540d",reg_wrong_smsCode_empty:"\u6821\u9a8c\u7801\u4e0d\u80fd\u4e3a\u7a7a",reg_wrong_format_smsCode:"\u6821\u9a8c\u7801\u683c\u5f0f\u9519\u8bef",reg_wrong_phone_empty:"\u8bf7\u8f93\u5165\u60a8\u7684\u5e38\u7528\u624b\u673a\u53f7\u7801",reg_wrong_phone_format:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u624b\u673a\u53f7\u7801",immediately_login_tips:'\uff0c<a target="_blank" class="fac clk-quc-login" href="###">\u7acb\u5373\u767b\u5f55</a>'};QHPass.mShowReg=function(e,t){t=t||{},QHPass.regUtils.run(e,t)},QHPass.regUtils=function(){function e(e,t,n){QHPass.trace(e),D++;var r=QHPass.g(T.globalTips);r&&(r.innerHTML=t,r.style.display="block"),j&&j({type:e,msg:t,extra:n}),clearTimeout(QHPass._timeoutHandler)}function t(e,t,n){var r=QHPass.g(T.globalTips);r&&(r.innerHTML=t,r.style.display="none"),F&&F({type:e,msg:t,extra:n})}function n(t){var n=QHPass.getConfig("protocol")=="https"?QHDomain.login_https:QHDomain.login_http,s=T.loginEmail,o="loginEmail",u=QHPass.trim(QHPass.g(s).value),a=n+"/index.php?op=checkemail&loginEmail="+u+"&r="+Math.random();u?r(u)?t&&QHPass.loadJsonp(a,i):e(o,tipTextReg.reg_wrong_loginEmail_format):e(o,tipTextReg.reg_wrong_loginEmail_empty)}function r(e){if(e.length>100)return!1;if(!/^([\w\-\.]+)@(([0-9a-zA-Z\-]+\.)+[a-zA-Z]{2,4})$/i.test(e))return!1;var t=e.split("@"),n=t[1];if(n=="163.com"||n=="126.com"||n=="yeah.net")if(!/^([a-zA-Z][\w]{5,17}|1(3|5|7|8|4)\d{9})$/.test(t[0]))return!1;return!0}function i(n){if(0==n.res)t("loginEmail",n.msg,n.errno);else if(n.errno==2e4)e("loginEmail",n.msg,n.errno);else if(1==n.res){var r=n.msg+tipTextReg.immediately_login_tips;e("loginEmail",r,n.errno)}else e("loginEmail",n.msg,n.errno)}function s(t){var n=QHPass.getConfig("protocol")=="https"?QHDomain.login_https:QHDomain.login_http,r=T.username,i="username",s=QHPass.trim(QHPass.g(r).value),o=QHPass.byteLen(s),u=/^[0-9a-zA-Z\u4e00-\u9fa5_\.]*$/i,a=n+"/index.php?op=checkuser&userName="+encodeURIComponent(s)+"&r="+Math.random();s?0==u.test(s)?e(i,tipTextReg.reg_wrong_username_chars):o<2?e(i,tipTextReg.reg_wrong_username_short):o>14?e(i,tipTextReg.reg_wrong_username_long):t&&QHPass.loadJsonp(a,y):e(i,tipTextReg.reg_wrong_username_empty)}function o(){var t="smsCode",n=QHPass.trim(QHPass.g(T.smsCode).value);n?/^\d{6}$/.test(n)||e(t,tipTextReg.reg_wrong_format_smsCode):e(t,tipTextReg.reg_wrong_smsCode_empty)}function u(t){var n=QHPass.getConfig("protocol")=="https"?QHDomain.login_https:QHDomain.login_http,r="phone",i=QHPass.trim(QHPass.g(T.phone).value);i?/^1(3|4|5|7|8)\d{9}$/.test(i)?t&&QHPass.loadJsonp(n+"/index.php?op=checkmobile&mobile="+encodeURIComponent(i)+"&r="+Math.random(),a):e(r,tipTextReg.reg_wrong_phone_format):e(r,tipTextReg.reg_wrong_phone_empty)}function a(n){0==n.errno?t("phone",n.msg,n.errno):n.errno==1037?e("phone",n.msg+tipTextReg.immediately_login_tips,n.errno):e("phone",n.msg,n.errno)}function f(){var n=T.password,r="pwd",i=QHPass.g(n).value,s=c(i),o=/[\u4e00-\u9fa5]+/,u=/^\s*$/;i&&i.length>=6&&i.length<=20?o.test(i)?e(r,tipTextReg.reg_wrong_password_chinese):s<3?i?u.test(i)?e(r,tipTextReg.reg_wrong_password_emptychars):s==0?e(r,tipTextReg.reg_wrong_password_same_chars):s==1?e(r,tipTextReg.reg_wrong_password_lx_chars):s==2?e(r,tipTextReg.reg_wrong_password_weaklevel):e(r,tipTextReg.reg_wrong_password_weaklevel):e(r,tipTextReg.reg_wrong_password_empty):t(r,tipTextReg.reg_default_password):e(r,tipTextReg.reg_wrong_default_password)}function l(e){var t=e.length,n=e.slice(0),r,i;while(--t>0){i=n[t],r=t;while(r--)if(i===n[r]){n.splice(t,1);break}}return n}function c(e){function t(e){e+="";var t=e.length,n=!0,r=e.charCodeAt(t-1)-e.charCodeAt(0)>0?1:-1;for(var i=0;i<t-1;i++)if(r!==e.charCodeAt(i+1)-e.charCodeAt(i))return n=!1,n;return n}e+="";var n=e.length,r=e.split(""),i=l(r),s=i.length,o=-1;cflag=t(e);if(n<6||n>20)o=-1;else if(s==1)o=0;else if(cflag)o=1;else if(W.join("#").indexOf(e)>-1)o=2;else{var u={d:0,c:0,o:0};QHPass.forEach(i,function(e,t){/\d/.test(e)?u.d=1:/[a-zA-Z]/.test(e)?u.c=1:u.o=1}),o=u.d+u.c+u.o+(n>9?2:1),o=o==2?o+1:o}return o}function h(){var t=T.phrase;if(!t||!QHPass.g(t))return;if(!B)return;var n="phrase",r=QHPass.trim(QHPass.g(t).value);(r.length<0||r.length>7)&&e(n,tipTextReg.reg_wrong_default_phrase)}function p(e){QHPass.getCaptchaUrl("reg",O,e)}function d(){QHPass.g(T.phraseImg).src=M+"&_="+Math.random()}function v(){var e=QHPass.getConfig("needHttpsDomains");QHPass.forEach(N,function(t){e.indexOf(t)>-1?C.push("https://login."+t):C.push("http://login."+t)})}function m(){_=0,QHPass.loadJs(C[_]+"/?o=sso&m=setcookie&func=QHPass.regUtils.rdCallBack&"+"s="+L)}function g(e){e.errno==0?(_+=1,_==C.length?(clearTimeout(QHPass._timeoutHandler),QHPass.execCallback(A)):QHPass.loadJs(C[_]+"/?o=sso&m=setcookie&func=QHPass.regUtils.rdCallBack&"+"s="+L)):(clearTimeout(QHPass._timeoutHandler),QHPass.execCallback(A))}function y(n){if(0==n.res)t("username",n.msg,n.errno);else{var r=n.msg+tipTextReg.immediately_login_tips;e("username",r,n.userinfo)}}function b(e){if(D>0)return;X[e]&&X[e](!1);if(D>0)return;f();if(D>0)return;h()}function w(n){D=0,u(!1);if(D>0)return;var r="smsCode",i=QHPass.trim(QHPass.g(T.phone).value);QHPass.loadJsonp(QHDomain.i360+"/smsApi/sendsmscode?account="+i+"&condition=2&r="+Math.random(),function(i){n&&n(i),i.errno=="0"?t(r,i.errmsg,i.errno):i.errno==1106?e(r,"\u5e10\u53f7\u5df2\u5b58\u5728"+tipTextReg.immediately_login_tips,i.errno):e(r,i.errmsg,i.errno)})}function E(){var t=QHPass.getConfig("protocol","https");D=0,QHPass.trace("submit"),b(k);if(D>0)return;beforeFun&&beforeFun(),QHPass._timeoutHandler=setTimeout(function(){e("network","\u7f51\u7edc\u8d85\u65f6~"),R&&R()},2e4);var n={account:QHPass.trim(QHPass.g(T[V[k]]).value),acctype:$[k],password:hex_md5(QHPass.g(T.password).value),rePassword:hex_md5(QHPass.g(T.password).value),captcha:T.phrase&&QHPass.g(T.phrase)?QHPass.g(T.phrase).value:"",smscode:T.smsCode&&QHPass.g(T.smsCode)?QHPass.g(T.smsCode).value:"",src:P,is_agree:QHPass.g(T.isAgree).checked?"1":"0",charset:H,loginEmailActiveFlag:"0",captchaApp:O,captchaFlag:B?"1":"0",proxy:t+"://"+location.host+"/psp_jump.html",callback:"parent.QHPass.regUtils.submitCB",requestScema:t};QHPass.CrossDomainRequest(QHDomain.i360+"/reg/doregAccount",n),U&&U()}function S(t){var n="";t.errdetail&&(n=JSON.parse(decodeURIComponent(t.errdetail)),M=n.captchaUrl),z&&z(),t.errno==0?(L=t.rd,m()):t.errno==78e3?(phraseFun&&phraseFun(),QHPass.g(T.phraseWrapper).style.display="block",e("phrase",tipTextReg.reg_wrong_phrase_input,t)):t.errno==78001?(phraseFun&&phraseFun(),QHPass.g(T.phraseWrapper).style.display="block",e("phrase",tipTextReg.reg_wrong_phrase_ban,t)):t.errno==1670?(B=!0,phraseFun&&phraseFun(),e("phrase",decodeURIComponent(t.errmsg),t.errno)):e("rd",decodeURIComponent(t.errmsg),t.errno)}function x(e,t){T=t.doms,N=t.domainList||QHPass.getConfig("domainList",N),k=t.regway,A=e,P=t.src||QHPass.getConfig("src"),O=t.captchaAppId||O,H=t.postCharset||document.charset,j=t.extFun.error,F=t.extFun.correct,I=t.extFun.init,beforeFun=t.extFun.before,R=t.extFun.httpTimeout,U=t.extFun.loading,z=t.extFun.after,phraseFun=t.extFun.phrase,B=t.captFlag,v(),I&&I(),k!="phone"&&p(function(e){M=e,d()})}var T={},N=QHPass.domainList,C=[],k="",L="",A="",O="i360",M="",_=0,D=0,P="",H="",B=!0,j=null,F=null,I=null,q=null,R=null,U=null,z=null,W=["asdasd","asdfgh","asdfghjkl","Iloveyou","qwerty","Password","Passwd","Woaini","Wodemima","Woaiwojia","zxcvbn","tamade","nimade","123abc","0123456","0123456789","100200","102030","121212","111222","115415","123000","123123","123789","12301230","123321","123456","1234560","123465","1234567","12345678","123456789","1234567890","123123123","1314520","1314521","147258369","147852369","159357","168168","201314","211314","321321","456456","4655321","521521","5201314","520520","741852","741852963","7758258","7758521","654321","852963","987654","963852741","000000","111111","11111111","112233","666666","888888","abcdef","abcabc","abc123","a1b2c3","aaa111","123qwe","qweasd","admin","password","p@ssword","passwd","iloveyou","1qaz2wsx","qwertyuiop","qq123456","1q2w3e4r","123456abc","abc123456","qazwsxedc","1q2w3e4r5t"];QHPass._timeoutHandler=null;var X={email:n,username:s,phone:function(e){u(e);if(D>0)return;o()}},V={email:"loginEmail",username:"username",phone:"phone"},$={email:"1",username:"4",phone:"2"};return{run:x,submit:E,submitCB:S,checkLoginEmail:n,checkUsername:s,checkPhone:u,checkSmsCode:o,loginEmailCallback:i,checkUsernameCallback:y,checkPhoneCallback:a,getSmsCode:w,showError:e,showCorrect:t,customError:j,rdCallBack:g,getCaptchaUrl:p,setPhrase:d}}();var tipTextSetname={username_short:"\u7528\u6237\u540d\u6700\u5c11\u4f7f\u75282\u4e2a\u5b57\u7b26\u6216\u6c49\u5b57",username_long:"\u7528\u6237\u540d\u4e0d\u8d85\u8fc77\u4e2a\u6c49\u5b57\u621614\u4e2a\u5b57\u7b26",username_chars:"\u7528\u6237\u540d\u4e0d\u80fd\u5305\u542b\u7279\u6b8a\u5b57\u7b26",username_empty:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7528\u6237\u540d"};QHPass.mShowSetname=function(e,t){t=t||{},QHPass.setnameUtils.run(e,t)},QHPass.setnameUtils=function(){function e(e,t,n){QHPass.trace(e),h++;var r=QHPass.g(o.globalTips);r&&(r.innerHTML=t,r.style.display="block"),l&&l({type:e,msg:t,extra:n}),clearTimeout(QHPass._timeoutHandler)}function t(e,t,n){var r=QHPass.g(o.globalTips);r&&(r.innerHTML=t,r.style.display="none"),c&&c({type:e,msg:t,extra:n})}function n(n){var r=QHPass.getConfig("protocol")=="https"?QHDomain.login_https:QHDomain.login_http,i=o.username,s="username",u=QHPass.trim(QHPass.g(i).value),a=QHPass.byteLen(u),f=/^[0-9a-zA-Z\u4e00-\u9fa5_\.]*$/i,l=r+"/?op=checkuser&userName="+encodeURIComponent(u)+"&r="+Math.random();u?0==f.test(u)?e(s,tipTextSetname.username_chars):a<2?e(s,tipTextSetname.username_short):a>14?e(s,tipTextSetname.username_long):n&&QHPass.loadJsonp(l,function(n){var r=decodeURIComponent(n.msg);0==n.res?(y&&y(n),t("username",r,n.errno)):e("username",r,{errno:n.errno,userInfo:n.userinfo})}):e(s,tipTextSetname.username_empty)}function r(){var t=QHPass.getConfig("protocol","https"),r=t=="https"?QHDomain.login_https:QHDomain.login_http;h=0,n(!1);if(h>0)return;beforeFun&&beforeFun(),QHPass._timeoutHandler=setTimeout(function(){m&&m(),e("network","\u7f51\u7edc\u8d85\u65f6~")},2e4);var i={userName:QHPass.trim(QHPass.g(o.username).value),o:"User",m:"modifyUserName",from:a,crumb:p&&p.crumb||"",charset:f,proxy:t+"://"+location.host+"/psp_jump.html",callback:"parent.QHPass.setnameUtils.setnameCallback",requestScema:t};QHPass.CrossDomainRequest(r,i)}function i(t){b&&b();if(t.errno==0)clearTimeout(QHPass._timeoutHandler),QHPass.execCallback(u);else{var n=decodeURIComponent(t.errmsg);e("username",n,t.errno)}}function s(e,t){o=t.doms,u=e,a=t.src,f=t.postCharset,y=t.extFun.checkNameSucess,l=t.extFun.error,c=t.extFun.correct,d=t.extFun.init,m=t.extFun.httpTimeout,beforeFun=t.extFun.before,g=t.extFun.loading,b=t.extFun.after,d&&d(),QHPass.getUserInfo(function(e){p=e})}var o={},u=null,a="",f="",l=null,c=null,h=0,p=null,d=null,v=null,m=null,g=null,y=null,b=null;return QHPass._timeoutHandler=null,{run:s,submit:r,checkUsername:n,showError:e,showCorrect:t,setnameCallback:i}}();